<section
    hx-target="#shelf"
    class="shelf"
>
    <section class="shelf-controls">
        <button
            hx-post="/shelf"
            hx-swap="outerHtml"
            hx-target="#shelf"
            type="submit"
            name="method"
            value="price"
        >
            Sort by Price
        </button>
        <button
            hx-post="/shelf"
            hx-swap="outerHtml"
            hx-target="#shelf"
            type="submit"
            name="method"
            value="category"
        >
            Sort by Category
        </button>
        <p>To do: implement a keyword filter based on active search - https://htmx.org/examples/active-search/</p>
    </section>
    <section 
        class="category-container shelf"
    >
        {% for item in shelf %}
                <article
                    class="category {{item.category_class}}"
                >
                    <p>
                        {{ item.name }}
                    </p>
                    <section style="display: flex; flex-direction: column;">
                        <div class="color-panel">
                        {% for color in item.color %}
                            <div class="{{color}} square"> 
                            </div>
                        {% endfor %}
                        </div>
                        <button
                            hx-post="/add"
                            hx-target="#cart"
                            hx-swap="beforeend"
                            type="submit"
                            name="product"
                            value="{{item.name}}"
                        >
                            Add to Cart
                        </button>
                        <p style="text-wrap:wrap; align-self: flex-end;">
                            {{ item.description }}
                        </p>
                    <section>
                </article>
        {% endfor %}
    </section>
</section>
